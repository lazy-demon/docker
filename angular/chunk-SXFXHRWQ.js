import{a as w,b as v}from"./chunk-OHXI4UT4.js";import{a as re}from"./chunk-NJGIV5B2.js";import{j as ee,m as te,n as ie,o as oe,p as ne}from"./chunk-LCTUPZZG.js";import{$a as f,Aa as V,Da as G,G as k,Jb as M,Kb as S,L as g,La as s,Lb as x,M as j,Ma as b,Mb as O,Na as C,Ob as F,P as A,Q as D,Qb as q,Rb as P,Sa as L,Sb as $,Tb as z,Ub as Z,Xb as E,Zb as H,ac as J,ba as c,bc as K,ca as l,cb as R,cc as U,dc as W,ec as X,fc as Y,ka as u,ma as d,na as Q,ra as n,sa as r,ta as m,xa as T,za as y}from"./chunk-IPN6YRSE.js";var ge=i=>[i];function ue(i,e){if(i&1&&(n(0,"tr")(1,"td",4)(2,"div",5)(3,"div",6),s(4),r()()()()),i&2){let p=e.$implicit;c(),d("routerLink",L(2,ge,p.id)),c(3),C(" ",p.questionBody," ")}}var se=(()=>{let e=class e{constructor(t){this.questionService=t}ngOnInit(){this.questionSubscription=this.questionService.questionsChanged.subscribe(t=>{this.questions=this.questionService.getQuestionByCategory(this.category.categoryBody)}),this.questionService.questions.length>0&&(this.questions=this.questionService.getQuestionByCategory(this.category.categoryBody))}ngOnDestroy(){this.questionSubscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(l(v))},e.\u0275cmp=g({type:e,selectors:[["app-category"]],inputs:{category:"category"},decls:7,vars:2,consts:[[1,"table","table-responsive","table-bordered","table-striped","table-hover"],[1,"table-subheader"],["contenteditable","false"],[4,"ngFor","ngForOf"],["contentEditable","false","routerLinkActive","active",3,"routerLink"],[1,"rows"],[1,"questionBody"]],template:function(o,a){o&1&&(n(0,"table",0)(1,"thead")(2,"tr",1)(3,"th",2),s(4),r()()(),n(5,"tbody"),u(6,ue,5,4,"tr",3),r()()),o&2&&(c(4),b(a.category.categoryBody),c(2),d("ngForOf",a.questions))},dependencies:[f,W,X],styles:["*[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]{min-height:38px;height:38px;overflow:hidden;word-wrap:break-word;white-space:normal}th[_ngcontent-%COMP%]{width:50%;min-height:38px;overflow:hidden;word-wrap:break-word}.table[_ngcontent-%COMP%]{border-collapse:unset;overflow:hidden;table-layout:fixed}.table-striped[_ngcontent-%COMP%]{background-color:#8e606f40}.table-subheader[_ngcontent-%COMP%]{background-color:#202859;color:#fff;font-size:110%}#mapping[_ngcontent-%COMP%]{width:80%}#mapping-table[_ngcontent-%COMP%]{min-width:65vw}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]{background-color:#8e606f66}mat-icon[_ngcontent-%COMP%]{color:#9d9d9d}.rows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]});let i=e;return i})();function ve(i,e){if(i&1&&m(0,"app-category",1),i&2){let p=e.$implicit;d("category",p)}}var le=(()=>{let e=class e{constructor(t,o){this.categoryService=t,this.questionService=o}ngOnInit(){this.categorySubscription=this.categoryService.categoriesChanged.subscribe(t=>{this.categories=t}),this.categoryService.setCategories(),this.categories=this.categoryService.getCategories(),this.questionService.setQuestionsALl()}ngOnDestroy(){this.categorySubscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(l(w),l(v))},e.\u0275cmp=g({type:e,selectors:[["app-question-overview"]],decls:1,vars:1,consts:[[3,"category",4,"ngFor","ngForOf"],[3,"category"]],template:function(o,a){o&1&&u(0,ve,1,1,"app-category",0),o&2&&d("ngForOf",a.categories)},dependencies:[f,se]});let i=e;return i})();function be(i,e){if(i&1){let p=T();n(0,"tr")(1,"td",13),y("click",function(){let a=A(p).$implicit,h=V();return D(h.setActiveCategory(a))}),n(2,"div",14)(3,"div",15),s(4),r()()()()}if(i&2){let p=e.$implicit;c(4),C(" ",p.categoryBody," ")}}var de=(()=>{let e=class e{constructor(t,o,a){this.categoryService=t,this.questionService=o,this.fb=a,this.editMode=!1}ngOnInit(){this.initForm(),this.categorySubscription=this.categoryService.categoriesChanged.subscribe(t=>{this.categories=t,this.questionService.setQuestionsALl()}),this.categories=this.categoryService.getCategories()}initForm(){this.categoryForm=this.fb.group({categoryBody:["",S.required]})}setForm(){this.activeCategory?this.categoryForm.patchValue({categoryBody:this.activeCategory.categoryBody}):this.categoryForm.patchValue({categoryBody:""})}setActiveCategory(t){this.activeCategory=t,this.editMode=!0,this.setForm()}onSubmit(){this.editMode&&this.categoryForm.valid&&this.activeCategory?(this.activeCategory.categoryBody=this.categoryForm.value.categoryBody,this.categoryService.putCategory(this.activeCategory)):!this.editMode&&this.categoryForm.valid&&this.categoryService.postCategory(this.categoryForm.value)}onCancel(){this.activeCategory=null,this.setForm(),this.editMode=!1}};e.\u0275fac=function(o){return new(o||e)(l(w),l(v),l(E))},e.\u0275cmp=g({type:e,selectors:[["app-edit-category"]],decls:24,vars:4,consts:[[1,"row"],[1,"col-md-5"],[1,"table","table-responsive","table-bordered","table-striped","table-hover"],[1,"table-subheader"],["contenteditable","false"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","categoryBody"],["type","text","id","categoryBody","formControlName","categoryBody",1,"form-control"],[1,"col-sm-5"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"btn","btn-danger",3,"click"],["contentEditable","false",3,"click"],[1,"rows"],[1,"questionBody"]],template:function(o,a){o&1&&(n(0,"h4")(1,"b"),s(2," Categorie bewerken"),r()(),n(3,"div",0)(4,"div",1)(5,"table",2)(6,"thead")(7,"tr",3)(8,"th",4),s(9,"Categori\xEBen"),r()()(),n(10,"tbody"),u(11,be,5,1,"tr",5),r()()(),n(12,"div",1)(13,"form",6),y("ngSubmit",function(){return a.onSubmit()}),n(14,"div",7)(15,"label",8),s(16,"Naam categorie"),r(),m(17,"input",9),r(),n(18,"div",0)(19,"div",10)(20,"button",11),s(21),r(),n(22,"button",12),y("click",function(){return a.onCancel()}),s(23," Annuleren "),r()()()()()()),o&2&&(c(11),d("ngForOf",a.categories),c(2),d("formGroup",a.categoryForm),c(7),d("disabled",!a.categoryForm.valid),c(),b(a.editMode?"Sla de wijzigingen op":"Maak categorie aan"))},dependencies:[f,F,M,x,O,q,P],styles:["*[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]{min-height:38px;height:38px;overflow:hidden;word-wrap:break-word;white-space:normal}th[_ngcontent-%COMP%]{width:50%;min-height:38px;overflow:hidden;word-wrap:break-word}.table[_ngcontent-%COMP%]{border-collapse:unset;overflow:hidden;table-layout:fixed}.table-striped[_ngcontent-%COMP%]{background-color:#8e606f40}.table-subheader[_ngcontent-%COMP%]{background-color:#202859;color:#fff;font-size:110%}#mapping[_ngcontent-%COMP%]{width:80%}#mapping-table[_ngcontent-%COMP%]{min-width:65vw}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]{background-color:#8e606f66}mat-icon[_ngcontent-%COMP%]{color:#9d9d9d}.rows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]});let i=e;return i})();var me=(()=>{let e=class e{constructor(t){this.navBarStateService=t,this.isCollapsed=!1,this.navBarStateService.isCollapsed$.subscribe(o=>{this.isCollapsed=o})}};e.\u0275fac=function(o){return new(o||e)(l(ee))},e.\u0275cmp=g({type:e,selectors:[["app-question-template-editor"]],decls:8,vars:2,consts:[[1,"content"],[1,"col-md-5"],[1,"col-md-7"],[1,"vertical-line",2,"margin-top","400px"]],template:function(o,a){o&1&&(n(0,"div",0),m(1,"nav-bar"),n(2,"div",1),m(3,"app-question-overview"),r(),n(4,"div",2),m(5,"router-outlet")(6,"div",3)(7,"app-edit-category"),r()()),o&2&&Q("margin-left",a.isCollapsed?150:250,"px")},dependencies:[ie,K,le,de],styles:[".media-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100vw;background:#faf9f6;margin-left:12px}.content[_ngcontent-%COMP%]{margin-left:200px;margin-top:20px;transition:margin-left .5s ease-in-out}nav-bar[_ngcontent-%COMP%]{height:150vh;width:250px;padding-right:5vw;margin-right:20px}.app-question-overview[_ngcontent-%COMP%]{margin-left:250px!important}.vertical-line[_ngcontent-%COMP%]{width:90%;box-shadow:0 4px 8px #0003;margin-top:5px;margin-right:30px!important;margin-bottom:50px;border:1px solid rgba(128,128,128,.44)!important;overflow:hidden}"]});let i=e;return i})();function Se(i,e){if(i&1&&(n(0,"option",21),s(1),r()),i&2){let p=e.$implicit;G("value",p.categoryBody),c(),C(" ",p.categoryBody," ")}}var N=(()=>{let e=class e{constructor(t,o,a,h,pe){this.categoryService=t,this.fb=o,this.questionService=a,this.route=h,this.router=pe,this.id="",this.editMode=!1}ngOnInit(){this.categorySubscription=this.categoryService.categoriesChanged.subscribe(t=>{this.categories=t}),this.categories=this.categoryService.getCategories(),this.initForm(),this.route.params.subscribe(t=>{this.id=t.id,this.editMode=t.id!=null,this.editMode&&this.setForm()})}ngOnDestroy(){this.categorySubscription.unsubscribe()}initForm(){this.questionForm=this.fb.group({questionBody:["",S.required],extraInfo:[""],extraAnswerInfo:[""],category:["",S.required],visibility:["",S.required]})}setForm(){let t=this.questionService.getQuestionById(this.id);t&&this.questionForm.patchValue({questionBody:t.questionBody,extraInfo:t.extraInfo,extrainfoanswer:t.extrainfoanswer,category:t.category,visibility:t.visibility})}onSubmit(){this.questionForm.valid&&!this.editMode?this.questionService.postQuestion(this.questionForm.value):this.questionForm.valid&&this.editMode&&this.questionService.putQuestion(this.questionForm.value,this.id)}onCancel(){this.router.navigate(["template-bewerken"])}};e.\u0275fac=function(o){return new(o||e)(l(w),l(E),l(v),l(J),l(U))},e.\u0275cmp=g({type:e,selectors:[["app-new-question"]],decls:44,vars:4,consts:[[1,"col-xs-12"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-10"],[1,"form-group"],["for","questionBody"],["type","text","id","questionBody","formControlName","questionBody",1,"form-control"],["for","extraInfo"],["type","text","id","extraInfo","formControlName","extraInfo",1,"form-control"],["for","extrainfoanswer"],["type","text","id","extrainfoanswer","formControlName","extraanswerinfo",1,"form-control"],[1,"col-sm-5"],["for","category"],["name","categories","formControlName","category","id","category",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","visibility"],["name","categories","formControlName","visibility","id","visibility",1,"form-control"],["value","true"],["value","false"],["type","submit","id","questionSubmit",1,"btn","btn-success",3,"disabled"],[1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(o,a){o&1&&(n(0,"h4")(1,"b"),s(2,"Nieuwe vraag"),r()(),n(3,"div",0)(4,"form",1),y("ngSubmit",function(){return a.onSubmit()}),n(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),s(9,"Vraag"),r(),m(10,"input",6),r()()(),n(11,"div",2)(12,"div",3)(13,"div",4)(14,"label",7),s(15,"Toelichting vraag"),r(),m(16,"input",8),r()()(),n(17,"div",2)(18,"div",3)(19,"div",4)(20,"label",9),s(21,"Toelichting bij antwoord"),r(),m(22,"input",10),r()()(),n(23,"div",2)(24,"div",11)(25,"div",4)(26,"label",12),s(27,"Selecteer categorie"),r(),n(28,"select",13),u(29,Se,2,2,"option",14),r()()(),n(30,"div",11)(31,"div",4)(32,"label",15),s(33,"Zichtbaarheid"),r(),n(34,"select",16)(35,"option",17),s(36," Zichtbaar "),r(),n(37,"option",18),s(38," Onzichtbaar "),r()()()(),n(39,"div",11)(40,"button",19),s(41),r(),n(42,"button",20),y("click",function(){return a.onCancel()}),s(43," Annuleren "),r()()()()()),o&2&&(c(4),d("formGroup",a.questionForm),c(25),d("ngForOf",a.categories),c(11),d("disabled",!a.questionForm.valid),c(),b(a.editMode?"Sla wijzigingen op":"Maak vraag aan"))},dependencies:[f,F,z,Z,M,$,x,O,q,P]});let i=e;return i})();var Re=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=j({type:e}),e.\u0275inj=k({imports:[R,oe,Y.forChild([{path:"",canActivate:[ne,re],component:me,children:[{path:"",component:N},{path:":id",component:N}]}]),te,H]});let i=e;return i})();export{Re as QuestionTemplateEditorModule};
